---
description: How to perform thorough reflection and validation of work to ensure perfection
globs: **/*
document_type: protocol
goal: Ensure work is perfect through systematic reflection and validation
gpt_action: Follow these steps to reflect on and validate work
---

# How We Reflect on Work Done

## Purpose
Establish a systematic approach to reflect on and validate work, ensuring 100% certainty in the perfection of the solution before proceeding.

## Trigger Conditions
- Before implementing major changes
- After completing work that needs validation
- When certainty about approach is needed
- Before finalizing important decisions
- When quality assurance is critical

## Requirements
1. Access to all project files
2. Available documentation
3. Clear understanding of the goal
4. Tools for thorough scanning
5. Time for comprehensive review

## Implementation Steps
1. Scan Project Files
   - Use search tools to find related files
   - Use grep for specific code patterns
   - List directories for structure understanding
   - Document all relevant files found

2. Map Dependencies
   - For each file found, scan for connections
   - Build dependency tree
   - Continue until no new relevant files appear
   - Document all relationships

3. Gather Documentation
   - Consult AI knowledge base
   - Review project documentation
   - Check related web resources
   - Compile all relevant information

4. Create Reflection Document
   - Define clear goal
   - Document context
   - List assumptions
   - Note questions and concerns
   - Detail atomic development steps

5. Validate Plan
   - Review all gathered information
   - Question each assumption
   - Verify each step
   - Ensure completeness
   - Confirm perfection of approach

## Examples
### Good Example
```markdown
# Reflection: Authentication System Update

## Files Scanned
1. auth_service.dart
2. user_repository.dart
3. token_manager.dart
[Complete list with relationships]

## Documentation Reviewed
- Auth system specs
- Security protocols
- API documentation
[All relevant docs]

## Validation Points
1. Security compliance: ✓
2. Performance impact: ✓
3. Data integrity: ✓
[Complete checklist]

## Certainty Level: 100%
[Detailed explanation why]
```

### Bad Example
```markdown
# Quick Check

Looked at the main file, seems fine.
Should work, let's try it.

[Incomplete analysis, missing validation]
```

## Validation Checklist
- [ ] All related files are identified
- [ ] Complete dependency map created
- [ ] All documentation reviewed
- [ ] Clear reflection document created
- [ ] Each assumption validated
- [ ] All questions addressed
- [ ] No uncertainties remain
- [ ] Plan reviewed multiple times
- [ ] 100% certainty achieved
- [ ] User approval obtained 